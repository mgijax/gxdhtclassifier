      Iter       Train Loss   Remaining Time 
         1           1.2167            2.49s
         2           1.1812            2.28s
         3           1.1526            2.13s
         4           1.1281            2.06s
         5           1.1073            2.01s
         6           1.0894            1.98s
         7           1.0730            1.94s
         8           1.0585            1.92s
         9           1.0439            1.89s
        10           1.0315            1.87s
        20           0.9367            1.55s
        30           0.8768            1.27s
        40           0.8329            1.05s
        50           0.7980            0.86s
        60           0.7703            0.68s
        70           0.7448            0.50s
        80           0.7225            0.33s
        90           0.7030            0.16s
       100           0.6847            0.00s
### Start Time 2021/07/28-12-40-19  GB.py	index file: index.out
Training data path:   /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/trainSet.txt	GridSearch Beta: 2
Validation data path: /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/valSet.txt
Test data path:       None
Random Seeds:	randForClassifier=938   randForSplit=72   
### Metrics: Training Set
              precision    recall  f1-score   support

   Train Yes       0.83      0.74      0.78      2263
    Train No       0.88      0.93      0.90      4726

    accuracy                           0.87      6989
   macro avg       0.86      0.83      0.84      6989
weighted avg       0.86      0.87      0.86      6989

Train (Yes) F2: 0.7548    P: 0.8304    R: 0.7380    NPV: 0.8809

['Yes', 'No']
[[1670  593]
 [ 341 4385]]

### Metrics: Validation Set
              precision    recall  f1-score   support

   Valid Yes       0.72      0.68      0.70       528
    Valid No       0.89      0.91      0.90      1477

    accuracy                           0.85      2005
   macro avg       0.80      0.79      0.80      2005
weighted avg       0.84      0.85      0.84      2005

Valid (Yes) F2: 0.6861    P: 0.7203    R: 0.6780    NPV: 0.8873

['Yes', 'No']
[[ 358  170]
 [ 139 1338]]

### Note: baseline GB, feature transforms + stemming

### Best Pipeline Parameters:
vectorizer__max_df: 0.75
vectorizer__min_df: 0.02
vectorizer__ngram_range: (1, 2)

vectorizer:
CountVectorizer(binary=True, max_df=0.75, min_df=0.02, ngram_range=(1, 2),
                stop_words='english', token_pattern='\\b([a-z_]\\w+)\\b')
params: {'analyzer': 'word', 'binary': True, 'decode_error': 'strict', 'dtype': <class 'numpy.int64'>, 'encoding': 'utf-8', 'input': 'content', 'lowercase': True, 'max_df': 0.75, 'max_features': None, 'min_df': 0.02, 'ngram_range': (1, 2), 'preprocessor': None, 'stop_words': 'english', 'strip_accents': None, 'token_pattern': '\\b([a-z_]\\w+)\\b', 'tokenizer': None, 'vocabulary': None}

classifier:
GradientBoostingClassifier(random_state=938, verbose=1)
params: {'ccp_alpha': 0.0, 'criterion': 'friedman_mse', 'init': None, 'learning_rate': 0.1, 'loss': 'deviance', 'max_depth': 3, 'max_features': None, 'max_leaf_nodes': None, 'min_impurity_decrease': 0.0, 'min_impurity_split': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'n_estimators': 100, 'n_iter_no_change': None, 'presort': 'deprecated', 'random_state': 938, 'subsample': 1.0, 'tol': 0.0001, 'validation_fraction': 0.1, 'verbose': 1, 'warm_start': False}


### Feature weights: highest 20
+0.2187	cell
+0.0694	induc
+0.0693	treat
+0.0436	treatment
+0.0408	embryonic_day
+0.0371	tumor_typ
+0.0332	transgen
+0.0280	knock_out
+0.0236	sort
+0.0204	mutant
+0.0203	cultur
+0.0192	infect
+0.0166	knock_out mice_
+0.0141	tissu
+0.0138	wild_typ
+0.0129	inject
+0.0122	mef
+0.0116	stem
+0.0107	stem cell
+0.0104	embryo

### Feature weights: lowest 20
+0.0000	use affymetrix
+0.0000	use illumina
+0.0000	use mice_
+0.0000	use microarray
+0.0000	use rna
+0.0000	util
+0.0000	various
+0.0000	vector
+0.0000	versus
+0.0000	vitro
+0.0000	vivo
+0.0000	vs
+0.0000	week age
+0.0000	week old
+0.0000	weight
+0.0000	wherea
+0.0000	wide
+0.0000	wild_typ control
+0.0000	wild_typ wild_typ
+0.0000	work

### Vectorizer:   Number of Features: 798
First 10 features: ['abil', 'ablat', 'abnorm', 'absenc', 'abund', 'accompani', 'accord', 'accumul', 'acid', 'act']

Middle 10 features: ['label', 'lack', 'larg', 'laser', 'late', 'later', 'lead', 'left', 'level', 'librari']

Last 10 features: ['wherea', 'wide', 'wild_typ', 'wild_typ control', 'wild_typ litterm', 'wild_typ mice_', 'wild_typ wild_typ', 'wnt', 'work', 'young']

### False positives for Validation set: 139
GSE528
GSE2515
GSE8524
GSE4678
GSE4671

### False negatives for Validation set: 170
GSE4818
GSE849
GSE3962
GSE3384
GSE6323

### Sample set sizes
                    :      Samples     Positive     Negative   % Positive
Training Set        :         6989         2263         4726          32%
Validation Set      :         2005          528         1477          26%
ValidationSplit: 0.20
### End Time 2021/07/28-12-40-23. Total      4.60 seconds

Fitting 1 folds for each of 4 candidates, totalling 4 fits
      Iter       Train Loss   Remaining Time 
         1           1.0212            3.32s
         2           0.9473            2.69s
         3           0.8956            2.34s
         4           0.8578            2.27s
         5           0.8272            2.16s
         6           0.7974            2.09s
         7           0.7773            2.08s
         8           0.7566            2.01s
         9           0.7425            1.98s
        10           0.7284            1.92s
        20           0.6197            1.58s
        30           0.5448            1.38s
        40           0.4867            1.20s
        50           0.4386            1.00s
        60           0.3965            0.81s
        70           0.3618            0.60s
        80           0.3326            0.40s
        90           0.3015            0.20s
       100           0.2745            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.0368            2.44s
         2           0.9588            2.12s
         3           0.9075            1.91s
         4           0.8649            1.83s
         5           0.8335            1.71s
         6           0.8052            1.64s
         7           0.7831            1.57s
         8           0.7621            1.51s
         9           0.7422            1.51s
        10           0.7268            1.47s
        20           0.6010            1.21s
        30           0.5188            1.03s
        40           0.4536            0.89s
        50           0.4059            0.73s
        60           0.3630            0.58s
        70           0.3261            0.43s
        80           0.2942            0.29s
        90           0.2663            0.14s
       100           0.2398            0.00s
### Start Time 2021/07/28-12-44-10  GB.py	index file: index.out
Training data path:   /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/trainSet.txt	GridSearch Beta: 2
Validation data path: /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/valSet.txt
Test data path:       None
Random Seeds:	randForClassifier=178   randForSplit=209   
### Metrics: Training Set
              precision    recall  f1-score   support

   Train Yes       0.95      0.94      0.94      2263
    Train No       0.97      0.97      0.97      4726

    accuracy                           0.96      6989
   macro avg       0.96      0.96      0.96      6989
weighted avg       0.96      0.96      0.96      6989

Train (Yes) F2: 0.9441    P: 0.9451    R: 0.9439    NPV: 0.9731

['Yes', 'No']
[[2136  127]
 [ 124 4602]]

### Metrics: Validation Set
              precision    recall  f1-score   support

   Valid Yes       0.67      0.70      0.68       528
    Valid No       0.89      0.88      0.88      1477

    accuracy                           0.83      2005
   macro avg       0.78      0.79      0.78      2005
weighted avg       0.83      0.83      0.83      2005

Valid (Yes) F2: 0.6907    P: 0.6667    R: 0.6970    NPV: 0.8899

['Yes', 'No']
[[ 368  160]
 [ 184 1293]]

### Note: baseline GB, feature transforms + stemming

### Best Pipeline Parameters:
classifier__learning_rate: 1
vectorizer__max_df: 0.75
vectorizer__min_df: 0.02
vectorizer__ngram_range: (1, 2)

vectorizer:
CountVectorizer(binary=True, max_df=0.75, min_df=0.02, ngram_range=(1, 2),
                stop_words='english', token_pattern='\\b([a-z_]\\w+)\\b')
params: {'analyzer': 'word', 'binary': True, 'decode_error': 'strict', 'dtype': <class 'numpy.int64'>, 'encoding': 'utf-8', 'input': 'content', 'lowercase': True, 'max_df': 0.75, 'max_features': None, 'min_df': 0.02, 'ngram_range': (1, 2), 'preprocessor': None, 'stop_words': 'english', 'strip_accents': None, 'token_pattern': '\\b([a-z_]\\w+)\\b', 'tokenizer': None, 'vocabulary': None}

classifier:
GradientBoostingClassifier(learning_rate=1, random_state=178, verbose=1)
params: {'ccp_alpha': 0.0, 'criterion': 'friedman_mse', 'init': None, 'learning_rate': 1, 'loss': 'deviance', 'max_depth': 3, 'max_features': None, 'max_leaf_nodes': None, 'min_impurity_decrease': 0.0, 'min_impurity_split': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'n_estimators': 100, 'n_iter_no_change': None, 'presort': 'deprecated', 'random_state': 178, 'subsample': 1.0, 'tol': 0.0001, 'validation_fraction': 0.1, 'verbose': 1, 'warm_start': False}


### Grid Search Parameter Options Tried:
classifier__learning_rate:[1, 0.1, 0.01, 0.025]
vectorizer__max_df:[0.75]
vectorizer__min_df:[0.02]
vectorizer__ngram_range:[(1, 2)]

### Grid Search Scores:
{'classifier__learning_rate': 1, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.690691
{'classifier__learning_rate': 0.1, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.686087
{'classifier__learning_rate': 0.01, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.510245
{'classifier__learning_rate': 0.025, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.590428

### Grid Search Best Score: 0.690691

### Feature weights: highest 20
+0.1980	cell
+0.0604	induc
+0.0504	treatment
+0.0329	treat
+0.0298	knock_out mice_
+0.0228	tumor_typ
+0.0204	embryonic_day
+0.0195	mutant
+0.0195	transgen
+0.0185	sort
+0.0131	infect
+0.0130	embryo
+0.0130	cultur
+0.0110	litterm
+0.0095	tissu
+0.0089	postnat
+0.0077	knock_out
+0.0071	inject
+0.0065	fibroblast
+0.0064	mef

### Feature weights: lowest 20
+0.0000	type
+0.0000	understood
+0.0000	uniqu
+0.0000	unknown
+0.0000	untreat
+0.0000	use microarray
+0.0000	use rna
+0.0000	util
+0.0000	valid
+0.0000	valu
+0.0000	various
+0.0000	versus
+0.0000	vitro
+0.0000	vivo
+0.0000	week
+0.0000	weight
+0.0000	wherea
+0.0000	wide
+0.0000	wnt
+0.0000	work

### Vectorizer:   Number of Features: 798
First 10 features: ['abil', 'ablat', 'abnorm', 'absenc', 'abund', 'accompani', 'accord', 'accumul', 'acid', 'act']

Middle 10 features: ['label', 'lack', 'larg', 'laser', 'late', 'later', 'lead', 'left', 'level', 'librari']

Last 10 features: ['wherea', 'wide', 'wild_typ', 'wild_typ control', 'wild_typ litterm', 'wild_typ mice_', 'wild_typ wild_typ', 'wnt', 'work', 'young']

### False positives for Validation set: 184
GSE528
GSE2515
GSE8524
GSE4678
GSE4671

### False negatives for Validation set: 160
GSE4818
GSE769
GSE849
GSE3384
GSE5786

### Sample set sizes
                    :      Samples     Positive     Negative   % Positive
Training Set        :         6989         2263         4726          32%
Validation Set      :         2005          528         1477          26%
ValidationSplit: 0.20
### End Time 2021/07/28-12-44-23. Total     12.87 seconds

      Iter       Train Loss   Remaining Time 
         1           1.0368            3.25s
         2           0.9588            2.81s
         3           0.9075            2.55s
         4           0.8649            2.39s
         5           0.8335            2.20s
         6           0.8052            2.07s
         7           0.7831            1.96s
         8           0.7621            1.87s
         9           0.7422            1.84s
        10           0.7268            1.77s
        20           0.6010            1.40s
        30           0.5188            1.17s
        40           0.4536            1.00s
        50           0.4059            0.82s
        60           0.3630            0.65s
        70           0.3261            0.48s
        80           0.2942            0.32s
        90           0.2663            0.16s
       100           0.2398            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2549            2.64s
         2           1.2505            2.38s
         3           1.2462            2.20s
         4           1.2421            2.10s
         5           1.2379            2.03s
         6           1.2339            1.97s
         7           1.2300            1.93s
         8           1.2261            1.89s
         9           1.2223            1.86s
        10           1.2185            1.83s
        20           1.1847            1.59s
        30           1.1563            1.39s
        40           1.1323            1.19s
        50           1.1117            0.99s
        60           1.0936            0.79s
        70           1.0774            0.59s
        80           1.0629            0.39s
        90           1.0492            0.20s
       100           1.0361            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            2.94s
         2           1.1812            2.63s
         3           1.1526            2.42s
         4           1.1281            2.27s
         5           1.1073            2.17s
         6           1.0894            2.09s
         7           1.0730            2.06s
         8           1.0585            2.00s
         9           1.0439            1.96s
        10           1.0315            1.92s
        20           0.9367            1.61s
        30           0.8768            1.33s
        40           0.8329            1.10s
        50           0.7980            0.89s
        60           0.7703            0.70s
        70           0.7448            0.51s
        80           0.7225            0.34s
        90           0.7030            0.17s
       100           0.6847            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            2.74s
         2           1.2378            2.38s
         3           1.2278            2.20s
         4           1.2182            2.10s
         5           1.2091            2.04s
         6           1.2004            1.99s
         7           1.1922            1.95s
         8           1.1841            1.91s
         9           1.1766            1.88s
        10           1.1693            1.85s
        20           1.1109            1.60s
        30           1.0691            1.40s
        40           1.0351            1.18s
        50           1.0061            0.98s
        60           0.9808            0.78s
        70           0.9590            0.58s
        80           0.9400            0.38s
        90           0.9225            0.19s
       100           0.9068            0.00s
Fitting 1 folds for each of 9 candidates, totalling 9 fits
      Iter       Train Loss   Remaining Time 
         1           1.1967            6.85s
         2           1.1626            5.80s
         3           1.1345            5.42s
         4           1.1110            5.22s
         5           1.0910            5.07s
         6           1.0733            5.03s
         7           1.0576            4.97s
         8           1.0433            4.93s
         9           1.0308            4.84s
        10           1.0174            4.77s
        20           0.9259            4.23s
        30           0.8678            3.85s
        40           0.8259            3.50s
        50           0.7918            3.22s
        60           0.7635            3.00s
        70           0.7391            2.77s
        80           0.7196            2.51s
        90           0.7017            2.27s
       100           0.6847            2.04s
       200           0.5712            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            4.89s
         2           1.1812            4.42s
         3           1.1526            4.11s
         4           1.1281            3.96s
         5           1.1073            3.91s
         6           1.0894            3.87s
         7           1.0730            3.83s
         8           1.0585            3.80s
         9           1.0439            3.76s
        10           1.0315            3.72s
        20           0.9367            3.37s
        30           0.8768            2.98s
        40           0.8329            2.73s
        50           0.7980            2.48s
        60           0.7703            2.26s
        70           0.7448            2.06s
        80           0.7225            1.87s
        90           0.7030            1.70s
       100           0.6847            1.54s
       200           0.5594            0.00s
### Start Time 2021/07/28-12-51-11  GB.py	index file: index.out
Training data path:   /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/trainSet.txt	GridSearch Beta: 2
Validation data path: /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/valSet.txt
Test data path:       None
Random Seeds:	randForClassifier=115   randForSplit=378   
### Metrics: Training Set
              precision    recall  f1-score   support

   Train Yes       0.85      0.81      0.83      2263
    Train No       0.91      0.93      0.92      4726

    accuracy                           0.89      6989
   macro avg       0.88      0.87      0.88      6989
weighted avg       0.89      0.89      0.89      6989

Train (Yes) F2: 0.8209    P: 0.8538    R: 0.8131    NPV: 0.9125

['Yes', 'No']
[[1840  423]
 [ 315 4411]]

### Metrics: Validation Set
              precision    recall  f1-score   support

   Valid Yes       0.74      0.72      0.73       528
    Valid No       0.90      0.91      0.90      1477

    accuracy                           0.86      2005
   macro avg       0.82      0.81      0.81      2005
weighted avg       0.86      0.86      0.86      2005

Valid (Yes) F2: 0.7197    P: 0.7354    R: 0.7159    NPV: 0.8994

['Yes', 'No']
[[ 378  150]
 [ 136 1341]]

### Note: baseline GB, feature transforms + stemming

### Best Pipeline Parameters:
classifier__learning_rate: 0.1
classifier__n_estimators: 200
vectorizer__max_df: 0.75
vectorizer__min_df: 0.02
vectorizer__ngram_range: (1, 2)

vectorizer:
CountVectorizer(binary=True, max_df=0.75, min_df=0.02, ngram_range=(1, 2),
                stop_words='english', token_pattern='\\b([a-z_]\\w+)\\b')
params: {'analyzer': 'word', 'binary': True, 'decode_error': 'strict', 'dtype': <class 'numpy.int64'>, 'encoding': 'utf-8', 'input': 'content', 'lowercase': True, 'max_df': 0.75, 'max_features': None, 'min_df': 0.02, 'ngram_range': (1, 2), 'preprocessor': None, 'stop_words': 'english', 'strip_accents': None, 'token_pattern': '\\b([a-z_]\\w+)\\b', 'tokenizer': None, 'vocabulary': None}

classifier:
GradientBoostingClassifier(n_estimators=200, random_state=115, verbose=1)
params: {'ccp_alpha': 0.0, 'criterion': 'friedman_mse', 'init': None, 'learning_rate': 0.1, 'loss': 'deviance', 'max_depth': 3, 'max_features': None, 'max_leaf_nodes': None, 'min_impurity_decrease': 0.0, 'min_impurity_split': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'n_estimators': 200, 'n_iter_no_change': None, 'presort': 'deprecated', 'random_state': 115, 'subsample': 1.0, 'tol': 0.0001, 'validation_fraction': 0.1, 'verbose': 1, 'warm_start': False}


### Grid Search Parameter Options Tried:
classifier__learning_rate:[0.1, 0.025, 0.01]
classifier__n_estimators:[50, 100, 200]
vectorizer__max_df:[0.75]
vectorizer__min_df:[0.02]
vectorizer__ngram_range:[(1, 2)]

### Grid Search Scores:
{'classifier__learning_rate': 0.1, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.645970
{'classifier__learning_rate': 0.1, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.687739
{'classifier__learning_rate': 0.1, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.719726
{'classifier__learning_rate': 0.025, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.550713
{'classifier__learning_rate': 0.025, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.590428
{'classifier__learning_rate': 0.025, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.646718
{'classifier__learning_rate': 0.01, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.000000
{'classifier__learning_rate': 0.01, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.510245
{'classifier__learning_rate': 0.01, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.576164

### Grid Search Best Score: 0.719726

### Feature weights: highest 20
+0.1909	cell
+0.0608	induc
+0.0604	treat
+0.0381	treatment
+0.0358	embryonic_day
+0.0334	tumor_typ
+0.0297	transgen
+0.0251	knock_out
+0.0209	sort
+0.0183	cultur
+0.0181	mutant
+0.0173	infect
+0.0153	knock_out mice_
+0.0133	tissu
+0.0120	wild_typ
+0.0117	inject
+0.0110	mef
+0.0100	stem
+0.0099	fac
+0.0098	litterm

### Feature weights: lowest 20
+0.0000	uniqu
+0.0000	unknown
+0.0000	untreat
+0.0000	upregul
+0.0000	use affymetrix
+0.0000	use illumina
+0.0000	use mice_
+0.0000	use microarray
+0.0000	use rna
+0.0000	util
+0.0000	various
+0.0000	vitro
+0.0000	week age
+0.0000	week old
+0.0000	weight
+0.0000	wherea
+0.0000	wide
+0.0000	wild_typ wild_typ
+0.0000	wnt
+0.0000	work

### Vectorizer:   Number of Features: 798
First 10 features: ['abil', 'ablat', 'abnorm', 'absenc', 'abund', 'accompani', 'accord', 'accumul', 'acid', 'act']

Middle 10 features: ['label', 'lack', 'larg', 'laser', 'late', 'later', 'lead', 'left', 'level', 'librari']

Last 10 features: ['wherea', 'wide', 'wild_typ', 'wild_typ control', 'wild_typ litterm', 'wild_typ mice_', 'wild_typ wild_typ', 'wnt', 'work', 'young']

### False positives for Validation set: 136
GSE528
GSE2515
GSE8524
GSE4678
GSE4671

### False negatives for Validation set: 150
GSE4818
GSE3554
GSE849
GSE3962
GSE3384

### Sample set sizes
                    :      Samples     Positive     Negative   % Positive
Training Set        :         6989         2263         4726          32%
Validation Set      :         2005          528         1477          26%
ValidationSplit: 0.20
### End Time 2021/07/28-12-51-36. Total     24.76 seconds

      Iter       Train Loss   Remaining Time 
         1           1.2167            1.62s
         2           1.1812            1.45s
         3           1.1526            1.33s
         4           1.1281            1.23s
         5           1.1073            1.15s
         6           1.0894            1.11s
         7           1.0730            1.05s
         8           1.0585            1.01s
         9           1.0439            0.97s
        10           1.0315            0.94s
        20           0.9367            0.64s
        30           0.8768            0.39s
        40           0.8329            0.19s
        50           0.7980            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            2.65s
         2           1.2378            2.51s
         3           1.2278            2.56s
         4           1.2182            2.49s
         5           1.2091            2.44s
         6           1.2004            2.41s
         7           1.1922            2.39s
         8           1.1841            2.37s
         9           1.1766            2.37s
        10           1.1693            2.34s
        20           1.1109            1.90s
        30           1.0691            1.61s
        40           1.0351            1.39s
        50           1.0061            1.14s
        60           0.9808            0.89s
        70           0.9590            0.65s
        80           0.9400            0.43s
        90           0.9225            0.21s
       100           0.9068            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            6.43s
         2           1.1812            5.60s
         3           1.1526            5.12s
         4           1.1281            4.82s
         5           1.1073            4.66s
         6           1.0894            4.59s
         7           1.0730            4.51s
         8           1.0585            4.47s
         9           1.0439            4.41s
        10           1.0315            4.31s
        20           0.9367            3.73s
        30           0.8768            3.28s
        40           0.8329            3.02s
        50           0.7980            2.75s
        60           0.7703            2.52s
        70           0.7448            2.33s
        80           0.7225            2.15s
        90           0.7030            1.96s
       100           0.6847            1.78s
       200           0.5594            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2549            2.51s
         2           1.2505            2.30s
         3           1.2462            2.18s
         4           1.2421            2.08s
         5           1.2379            2.03s
         6           1.2339            1.98s
         7           1.2300            1.94s
         8           1.2261            1.91s
         9           1.2223            1.88s
        10           1.2185            1.86s
        20           1.1847            1.62s
        30           1.1563            1.42s
        40           1.1323            1.21s
        50           1.1117            1.00s
        60           1.0936            0.82s
        70           1.0774            0.61s
        80           1.0629            0.41s
        90           1.0492            0.20s
       100           1.0361            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            1.33s
         2           1.2378            1.12s
         3           1.2278            1.07s
         4           1.2182            1.01s
         5           1.2091            0.99s
         6           1.2004            0.96s
         7           1.1922            0.94s
         8           1.1841            0.92s
         9           1.1766            0.89s
        10           1.1693            0.87s
        20           1.1109            0.63s
        30           1.0691            0.41s
        40           1.0351            0.21s
        50           1.0061            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            6.11s
         2           1.2378            5.35s
         3           1.2278            5.13s
         4           1.2182            4.90s
         5           1.2091            4.68s
         6           1.2004            4.52s
         7           1.1922            4.41s
         8           1.1841            4.34s
         9           1.1766            4.25s
        10           1.1693            4.19s
        20           1.1109            3.92s
        30           1.0691            3.82s
        40           1.0351            3.57s
        50           1.0061            3.26s
        60           0.9808            2.98s
        70           0.9590            2.74s
        80           0.9400            2.48s
        90           0.9225            2.25s
       100           0.9068            2.02s
       200           0.8006            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            3.13s
         2           1.1812            2.78s
         3           1.1526            2.57s
         4           1.1281            2.39s
         5           1.1073            2.30s
         6           1.0894            2.24s
         7           1.0730            2.20s
         8           1.0585            2.16s
         9           1.0439            2.10s
        10           1.0315            2.06s
        20           0.9367            1.69s
        30           0.8768            1.38s
        40           0.8329            1.15s
        50           0.7980            0.93s
        60           0.7703            0.73s
        70           0.7448            0.54s
        80           0.7225            0.36s
        90           0.7030            0.18s
       100           0.6847            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2549            1.14s
         2           1.2505            1.04s
         3           1.2462            0.98s
         4           1.2421            0.95s
         5           1.2379            0.94s
         6           1.2339            0.95s
         7           1.2300            0.94s
         8           1.2261            0.92s
         9           1.2223            0.89s
        10           1.2185            0.86s
        20           1.1847            0.62s
        30           1.1563            0.42s
        40           1.1323            0.21s
        50           1.1117            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2549            4.49s
         2           1.2505            4.06s
         3           1.2462            3.91s
         4           1.2421            3.82s
         5           1.2379            3.75s
         6           1.2339            3.74s
         7           1.2300            3.72s
         8           1.2261            3.67s
         9           1.2223            3.64s
        10           1.2185            3.61s
        20           1.1847            3.48s
        30           1.1563            3.27s
        40           1.1323            3.05s
        50           1.1117            2.86s
        60           1.0936            2.70s
        70           1.0774            2.50s
        80           1.0629            2.30s
        90           1.0492            2.11s
       100           1.0361            1.91s
       200           0.9404            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.1967            6.63s
         2           1.1626            5.84s
         3           1.1345            5.55s
         4           1.1110            5.33s
         5           1.0910            5.15s
         6           1.0733            5.06s
         7           1.0576            4.98s
         8           1.0433            4.92s
         9           1.0308            4.85s
        10           1.0174            4.79s
        20           0.9259            4.20s
        30           0.8679            3.80s
        40           0.8262            3.46s
        50           0.7917            3.17s
        60           0.7628            2.91s
        70           0.7396            2.66s
        80           0.7196            2.43s
        90           0.7016            2.21s
       100           0.6846            2.00s
       200           0.5718            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.03s
         2           1.1812            4.75s
         3           1.1526            4.35s
         4           1.1281            4.12s
         5           1.1073            3.99s
         6           1.0894            3.88s
         7           1.0730            3.81s
         8           1.0585            3.75s
         9           1.0439            3.69s
        10           1.0315            3.63s
        20           0.9367            3.26s
        30           0.8769            2.92s
        40           0.8331            2.68s
        50           0.7981            2.44s
        60           0.7695            2.22s
        70           0.7448            2.03s
        80           0.7225            1.84s
        90           0.7030            1.69s
       100           0.6859            1.52s
       200           0.5602            0.00s
### Start Time 2021/07/28-12-58-57  GB.py	index file: index.out
Training data path:   /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/trainSet.txt	GridSearch Beta: 2
Validation data path: /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/valSet.txt
Test data path:       None
Random Seeds:	randForClassifier=585   randForSplit=103   
### Metrics: Training Set
              precision    recall  f1-score   support

   Train Yes       0.85      0.81      0.83      2263
    Train No       0.91      0.93      0.92      4726

    accuracy                           0.89      6989
   macro avg       0.88      0.87      0.88      6989
weighted avg       0.89      0.89      0.89      6989

Train (Yes) F2: 0.8160    P: 0.8525    R: 0.8073    NPV: 0.9100

['Yes', 'No']
[[1827  436]
 [ 316 4410]]

### Metrics: Validation Set
              precision    recall  f1-score   support

   Valid Yes       0.73      0.71      0.72       528
    Valid No       0.90      0.91      0.90      1477

    accuracy                           0.86      2005
   macro avg       0.82      0.81      0.81      2005
weighted avg       0.86      0.86      0.86      2005

Valid (Yes) F2: 0.7178    P: 0.7335    R: 0.7140    NPV: 0.8987

['Yes', 'No']
[[ 377  151]
 [ 137 1340]]

### Note: baseline GB, feature transforms + stemming

### Best Pipeline Parameters:
classifier__learning_rate: 0.1
classifier__min_samples_split: 10
classifier__n_estimators: 200
vectorizer__max_df: 0.75
vectorizer__min_df: 0.02
vectorizer__ngram_range: (1, 2)

vectorizer:
CountVectorizer(binary=True, max_df=0.75, min_df=0.02, ngram_range=(1, 2),
                stop_words='english', token_pattern='\\b([a-z_]\\w+)\\b')
params: {'analyzer': 'word', 'binary': True, 'decode_error': 'strict', 'dtype': <class 'numpy.int64'>, 'encoding': 'utf-8', 'input': 'content', 'lowercase': True, 'max_df': 0.75, 'max_features': None, 'min_df': 0.02, 'ngram_range': (1, 2), 'preprocessor': None, 'stop_words': 'english', 'strip_accents': None, 'token_pattern': '\\b([a-z_]\\w+)\\b', 'tokenizer': None, 'vocabulary': None}

classifier:
GradientBoostingClassifier(min_samples_split=10, n_estimators=200,
                           random_state=585, verbose=1)
params: {'ccp_alpha': 0.0, 'criterion': 'friedman_mse', 'init': None, 'learning_rate': 0.1, 'loss': 'deviance', 'max_depth': 3, 'max_features': None, 'max_leaf_nodes': None, 'min_impurity_decrease': 0.0, 'min_impurity_split': None, 'min_samples_leaf': 1, 'min_samples_split': 10, 'min_weight_fraction_leaf': 0.0, 'n_estimators': 200, 'n_iter_no_change': None, 'presort': 'deprecated', 'random_state': 585, 'subsample': 1.0, 'tol': 0.0001, 'validation_fraction': 0.1, 'verbose': 1, 'warm_start': False}


### Grid Search Parameter Options Tried:
classifier__learning_rate:[0.1, 0.05, 0.025]
classifier__min_samples_split:[5, 10, 20]
classifier__n_estimators:[50, 100, 200]
vectorizer__max_df:[0.75]
vectorizer__min_df:[0.02]
vectorizer__ngram_range:[(1, 2)]

### Grid Search Scores:
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.645721
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.686950
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.715101
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.642361
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.684774
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.717822
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.642361
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.685299
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.712652
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.594118
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.643852
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.688462
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.594118
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.642415
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.688003
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.594118
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.642415
{'classifier__learning_rate': 0.05, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.686275
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.550713
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.590428
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.641918
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.550713
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.590428
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.640232
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 50, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.550713
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 100, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.590428
{'classifier__learning_rate': 0.025, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.643852

### Grid Search Best Score: 0.717822

### Feature weights: highest 20
+0.1916	cell
+0.0609	induc
+0.0604	treat
+0.0381	treatment
+0.0354	embryonic_day
+0.0340	tumor_typ
+0.0299	transgen
+0.0255	knock_out
+0.0210	sort
+0.0186	mutant
+0.0180	cultur
+0.0173	infect
+0.0156	knock_out mice_
+0.0129	tissu
+0.0123	wild_typ
+0.0119	inject
+0.0111	mef
+0.0101	stem
+0.0100	fac
+0.0099	litterm

### Feature weights: lowest 20
+0.0000	understood
+0.0000	unknown
+0.0000	untreat
+0.0000	upregul
+0.0000	use affymetrix
+0.0000	use illumina
+0.0000	use mice_
+0.0000	use microarray
+0.0000	use rna
+0.0000	util
+0.0000	various
+0.0000	vitro
+0.0000	vivo
+0.0000	week age
+0.0000	week old
+0.0000	weight
+0.0000	wherea
+0.0000	wide
+0.0000	wild_typ wild_typ
+0.0000	work

### Vectorizer:   Number of Features: 798
First 10 features: ['abil', 'ablat', 'abnorm', 'absenc', 'abund', 'accompani', 'accord', 'accumul', 'acid', 'act']

Middle 10 features: ['label', 'lack', 'larg', 'laser', 'late', 'later', 'lead', 'left', 'level', 'librari']

Last 10 features: ['wherea', 'wide', 'wild_typ', 'wild_typ control', 'wild_typ litterm', 'wild_typ mice_', 'wild_typ wild_typ', 'wnt', 'work', 'young']

### False positives for Validation set: 137
GSE528
GSE2515
GSE8524
GSE4678
GSE4671

### False negatives for Validation set: 151
GSE4818
GSE849
GSE3962
GSE3384
GSE5786

### Sample set sizes
                    :      Samples     Positive     Negative   % Positive
Training Set        :         6989         2263         4726          32%
Validation Set      :         2005          528         1477          26%
ValidationSplit: 0.20
### End Time 2021/07/28-12-59-40. Total     42.35 seconds

      Iter       Train Loss   Remaining Time 
         1           1.2167            2.84s
         2           1.1812            2.69s
         3           1.1526            2.54s
         4           1.1281            2.40s
         5           1.1073            2.33s
         6           1.0894            2.23s
         7           1.0730            2.18s
         8           1.0585            2.12s
         9           1.0439            2.06s
        10           1.0315            2.01s
        20           0.9367            1.67s
        30           0.8768            1.37s
        40           0.8329            1.15s
        50           0.7980            0.93s
        60           0.7703            0.72s
        70           0.7449            0.53s
        80           0.7226            0.36s
        90           0.7032            0.18s
       100           0.6843            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            1.21s
         2           1.1812            1.07s
         3           1.1526            1.01s
         4           1.1281            0.98s
         5           1.1073            0.99s
         6           1.0894            0.98s
         7           1.0730            0.96s
         8           1.0585            0.92s
         9           1.0439            0.89s
        10           1.0315            0.86s
        20           0.9367            0.59s
        30           0.8769            0.37s
        40           0.8333            0.18s
        50           0.7984            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            1.22s
         2           1.2177            1.06s
         3           1.1997            1.00s
         4           1.1833            0.96s
         5           1.1684            0.93s
         6           1.1545            0.94s
         7           1.1420            0.94s
         8           1.1305            0.91s
         9           1.1196            0.89s
        10           1.1097            0.86s
        20           1.0338            0.62s
        30           0.9792            0.40s
        40           0.9382            0.20s
        50           0.9058            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            1.22s
         2           1.2177            1.08s
         3           1.1997            1.02s
         4           1.1833            0.98s
         5           1.1684            0.94s
         6           1.1545            0.91s
         7           1.1420            0.89s
         8           1.1305            0.86s
         9           1.1196            0.85s
        10           1.1097            0.83s
        20           1.0338            0.60s
        30           0.9792            0.39s
        40           0.9382            0.19s
        50           0.9058            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            1.15s
         2           1.2177            1.04s
         3           1.1997            1.00s
         4           1.1833            0.97s
         5           1.1684            0.94s
         6           1.1545            0.91s
         7           1.1420            0.90s
         8           1.1305            0.88s
         9           1.1196            0.85s
        10           1.1097            0.83s
        20           1.0338            0.60s
        30           0.9792            0.40s
        40           0.9382            0.20s
        50           0.9058            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            5.16s
         2           1.2177            4.67s
         3           1.1997            4.38s
         4           1.1833            4.25s
         5           1.1684            4.31s
         6           1.1545            4.36s
         7           1.1420            4.35s
         8           1.1305            4.32s
         9           1.1196            4.31s
        10           1.1097            4.26s
        20           1.0338            4.08s
        30           0.9792            3.64s
        40           0.9382            3.32s
        50           0.9058            3.01s
        60           0.8779            2.73s
        70           0.8549            2.48s
        80           0.8348            2.26s
        90           0.8164            2.04s
       100           0.8006            1.85s
       200           0.6892            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            2.52s
         2           1.2378            2.38s
         3           1.2278            2.25s
         4           1.2182            2.13s
         5           1.2091            2.05s
         6           1.2004            2.00s
         7           1.1922            1.97s
         8           1.1841            1.93s
         9           1.1766            1.89s
        10           1.1693            1.88s
        20           1.1109            1.73s
        30           1.0691            1.57s
        40           1.0351            1.35s
        50           1.0061            1.12s
        60           0.9808            0.87s
        70           0.9590            0.64s
        80           0.9400            0.42s
        90           0.9225            0.21s
       100           0.9068            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.50s
         2           1.1812            5.14s
         3           1.1526            4.85s
         4           1.1281            4.60s
         5           1.1073            4.46s
         6           1.0894            4.36s
         7           1.0730            4.32s
         8           1.0585            4.25s
         9           1.0439            4.17s
        10           1.0315            4.11s
        20           0.9367            3.66s
        30           0.8768            3.32s
        40           0.8329            3.03s
        50           0.7980            2.75s
        60           0.7703            2.50s
        70           0.7449            2.30s
        80           0.7226            2.12s
        90           0.7032            1.93s
       100           0.6843            1.74s
       200           0.5608            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            2.52s
         2           1.1812            2.39s
         3           1.1526            2.22s
         4           1.1281            2.11s
         5           1.1073            2.04s
         6           1.0894            1.98s
         7           1.0730            1.94s
         8           1.0585            1.91s
         9           1.0439            1.87s
        10           1.0315            1.84s
        20           0.9367            1.55s
        30           0.8769            1.28s
        40           0.8333            1.09s
        50           0.7984            0.91s
        60           0.7701            0.75s
        70           0.7451            0.56s
        80           0.7231            0.37s
        90           0.7034            0.18s
       100           0.6872            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            6.63s
         2           1.2177            5.83s
         3           1.1997            5.59s
         4           1.1833            5.34s
         5           1.1684            5.20s
         6           1.1545            5.11s
         7           1.1420            4.99s
         8           1.1305            4.86s
         9           1.1196            4.74s
        10           1.1097            4.69s
        20           1.0338            4.28s
        30           0.9792            3.73s
        40           0.9382            3.34s
        50           0.9058            3.02s
        60           0.8778            2.74s
        70           0.8547            2.52s
        80           0.8342            2.27s
        90           0.8157            2.03s
       100           0.7996            1.83s
       200           0.6875            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            2.66s
         2           1.2177            2.42s
         3           1.1997            2.22s
         4           1.1833            2.13s
         5           1.1684            2.06s
         6           1.1545            2.01s
         7           1.1420            1.97s
         8           1.1305            1.93s
         9           1.1196            1.90s
        10           1.1097            1.87s
        20           1.0338            1.61s
        30           0.9792            1.42s
        40           0.9382            1.25s
        50           0.9058            1.02s
        60           0.8779            0.81s
        70           0.8549            0.60s
        80           0.8348            0.39s
        90           0.8164            0.19s
       100           0.8006            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            4.97s
         2           1.2378            4.46s
         3           1.2278            4.22s
         4           1.2182            4.08s
         5           1.2091            4.02s
         6           1.2004            4.10s
         7           1.1922            4.13s
         8           1.1841            4.12s
         9           1.1766            4.05s
        10           1.1693            3.99s
        20           1.1109            4.00s
        30           1.0691            3.65s
        40           1.0351            3.34s
        50           1.0061            3.10s
        60           0.9808            2.85s
        70           0.9590            2.61s
        80           0.9400            2.39s
        90           0.9225            2.17s
       100           0.9068            1.97s
       200           0.8004            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            2.53s
         2           1.2378            2.41s
         3           1.2278            2.37s
         4           1.2182            2.25s
         5           1.2091            2.15s
         6           1.2004            2.09s
         7           1.1922            2.04s
         8           1.1841            1.99s
         9           1.1766            1.95s
        10           1.1693            1.91s
        20           1.1109            1.64s
        30           1.0691            1.45s
        40           1.0351            1.24s
        50           1.0061            1.01s
        60           0.9808            0.80s
        70           0.9590            0.59s
        80           0.9400            0.39s
        90           0.9225            0.19s
       100           0.9068            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            1.22s
         2           1.1812            1.09s
         3           1.1526            1.02s
         4           1.1281            0.98s
         5           1.1073            0.96s
         6           1.0894            0.93s
         7           1.0730            0.91s
         8           1.0585            0.89s
         9           1.0439            0.86s
        10           1.0315            0.83s
        20           0.9367            0.60s
        30           0.8769            0.39s
        40           0.8331            0.19s
        50           0.7981            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.02s
         2           1.1812            4.44s
         3           1.1526            4.21s
         4           1.1281            4.08s
         5           1.1073            4.00s
         6           1.0894            3.95s
         7           1.0730            3.94s
         8           1.0585            3.90s
         9           1.0439            3.85s
        10           1.0315            3.81s
        20           0.9367            3.52s
        30           0.8769            3.25s
        40           0.8331            3.09s
        50           0.7981            2.85s
        60           0.7695            2.58s
        70           0.7448            2.34s
        80           0.7225            2.12s
        90           0.7030            1.92s
       100           0.6859            1.71s
       200           0.5602            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            2.58s
         2           1.2177            2.41s
         3           1.1997            2.29s
         4           1.1833            2.17s
         5           1.1684            2.07s
         6           1.1545            2.01s
         7           1.1420            1.96s
         8           1.1305            1.91s
         9           1.1196            1.87s
        10           1.1097            1.84s
        20           1.0338            1.61s
        30           0.9792            1.45s
        40           0.9382            1.25s
        50           0.9058            1.06s
        60           0.8778            0.84s
        70           0.8547            0.62s
        80           0.8342            0.40s
        90           0.8157            0.19s
       100           0.7996            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            5.07s
         2           1.2177            4.50s
         3           1.1997            4.58s
         4           1.1833            4.63s
         5           1.1684            4.63s
         6           1.1545            4.60s
         7           1.1420            4.54s
         8           1.1305            4.52s
         9           1.1196            4.43s
        10           1.1097            4.35s
        20           1.0338            4.18s
        30           0.9792            3.67s
        40           0.9382            3.31s
        50           0.9058            3.04s
        60           0.8779            2.76s
        70           0.8548            2.51s
        80           0.8346            2.26s
        90           0.8160            2.03s
       100           0.8001            1.83s
       200           0.6878            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            2.48s
         2           1.2378            2.33s
         3           1.2278            2.16s
         4           1.2182            2.06s
         5           1.2091            2.02s
         6           1.2004            2.00s
         7           1.1922            1.98s
         8           1.1841            1.96s
         9           1.1766            1.92s
        10           1.1693            1.90s
        20           1.1109            1.64s
        30           1.0691            1.48s
        40           1.0351            1.31s
        50           1.0061            1.07s
        60           0.9808            0.86s
        70           0.9590            0.64s
        80           0.9400            0.42s
        90           0.9225            0.21s
       100           0.9068            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            5.21s
         2           1.2378            4.98s
         3           1.2278            4.71s
         4           1.2182            4.45s
         5           1.2091            4.33s
         6           1.2004            4.33s
         7           1.1922            4.34s
         8           1.1841            4.41s
         9           1.1766            4.41s
        10           1.1693            4.42s
        20           1.1109            4.06s
        30           1.0691            3.70s
        40           1.0351            3.37s
        50           1.0061            3.11s
        60           0.9808            2.86s
        70           0.9590            2.61s
        80           0.9400            2.37s
        90           0.9225            2.19s
       100           0.9068            1.96s
       200           0.8006            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            1.49s
         2           1.1812            1.37s
         3           1.1526            1.28s
         4           1.1281            1.21s
         5           1.1073            1.14s
         6           1.0894            1.08s
         7           1.0730            1.03s
         8           1.0585            0.99s
         9           1.0439            0.94s
        10           1.0315            0.91s
        20           0.9367            0.63s
        30           0.8768            0.39s
        40           0.8329            0.19s
        50           0.7980            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            2.93s
         2           1.1812            2.71s
         3           1.1526            2.56s
         4           1.1281            2.44s
         5           1.1073            2.30s
         6           1.0894            2.20s
         7           1.0730            2.11s
         8           1.0585            2.05s
         9           1.0439            1.99s
        10           1.0315            1.95s
        20           0.9367            1.60s
        30           0.8769            1.34s
        40           0.8331            1.13s
        50           0.7981            0.94s
        60           0.7695            0.75s
        70           0.7448            0.55s
        80           0.7225            0.36s
        90           0.7030            0.18s
       100           0.6859            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.49s
         2           1.1812            5.22s
         3           1.1526            4.77s
         4           1.1281            4.49s
         5           1.1073            4.34s
         6           1.0894            4.25s
         7           1.0730            4.28s
         8           1.0585            4.30s
         9           1.0439            4.26s
        10           1.0315            4.20s
        20           0.9367            3.62s
        30           0.8769            3.26s
        40           0.8333            2.95s
        50           0.7984            2.66s
        60           0.7701            2.46s
        70           0.7451            2.24s
        80           0.7231            2.08s
        90           0.7034            1.92s
       100           0.6872            1.75s
       200           0.5630            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2375            2.86s
         2           1.2177            2.71s
         3           1.1997            2.60s
         4           1.1833            2.49s
         5           1.1684            2.36s
         6           1.1545            2.33s
         7           1.1420            2.31s
         8           1.1305            2.28s
         9           1.1196            2.24s
        10           1.1097            2.18s
        20           1.0338            1.89s
        30           0.9792            1.56s
        40           0.9382            1.29s
        50           0.9058            1.04s
        60           0.8779            0.81s
        70           0.8548            0.59s
        80           0.8346            0.38s
        90           0.8160            0.19s
       100           0.8001            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            1.14s
         2           1.2378            1.01s
         3           1.2278            0.96s
         4           1.2182            0.94s
         5           1.2091            0.91s
         6           1.2004            0.88s
         7           1.1922            0.86s
         8           1.1841            0.87s
         9           1.1766            0.86s
        10           1.1693            0.84s
        20           1.1109            0.62s
        30           1.0691            0.40s
        40           1.0351            0.20s
        50           1.0061            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            1.15s
         2           1.2378            1.02s
         3           1.2278            0.97s
         4           1.2182            0.93s
         5           1.2091            0.91s
         6           1.2004            0.88s
         7           1.1922            0.86s
         8           1.1841            0.83s
         9           1.1766            0.81s
        10           1.1693            0.79s
        20           1.1109            0.59s
        30           1.0691            0.40s
        40           1.0351            0.20s
        50           1.0061            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            1.15s
         2           1.2378            1.03s
         3           1.2278            0.98s
         4           1.2182            0.94s
         5           1.2091            0.92s
         6           1.2004            0.91s
         7           1.1922            0.88s
         8           1.1841            0.85s
         9           1.1766            0.83s
        10           1.1693            0.80s
        20           1.1109            0.60s
        30           1.0691            0.39s
        40           1.0351            0.20s
        50           1.0061            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2483            4.84s
         2           1.2378            4.36s
         3           1.2278            4.20s
         4           1.2182            4.09s
         5           1.2091            3.98s
         6           1.2004            3.90s
         7           1.1922            3.85s
         8           1.1841            3.80s
         9           1.1766            3.76s
        10           1.1693            3.72s
        20           1.1109            3.46s
        30           1.0691            3.27s
        40           1.0351            3.03s
        50           1.0061            2.85s
        60           0.9808            2.63s
        70           0.9590            2.41s
        80           0.9400            2.21s
        90           0.9225            2.01s
       100           0.9068            1.80s
       200           0.8013            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.1967            7.50s
         2           1.1626            6.23s
         3           1.1345            5.78s
         4           1.1110            5.66s
         5           1.0910            5.43s
         6           1.0733            5.29s
         7           1.0576            5.18s
         8           1.0433            5.09s
         9           1.0308            5.03s
        10           1.0174            4.97s
        20           0.9259            4.35s
        30           0.8678            3.98s
        40           0.8259            3.61s
        50           0.7918            3.31s
        60           0.7635            3.06s
        70           0.7391            2.79s
        80           0.7196            2.55s
        90           0.7017            2.30s
       100           0.6847            2.07s
       200           0.5712            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.36s
         2           1.1812            4.83s
         3           1.1526            4.46s
         4           1.1281            4.26s
         5           1.1073            4.14s
         6           1.0894            4.04s
         7           1.0730            3.96s
         8           1.0585            3.92s
         9           1.0439            3.87s
        10           1.0315            3.83s
        20           0.9367            3.44s
        30           0.8768            3.03s
        40           0.8329            2.75s
        50           0.7980            2.49s
        60           0.7703            2.27s
        70           0.7448            2.08s
        80           0.7225            1.90s
        90           0.7030            1.74s
       100           0.6847            1.58s
       200           0.5594            0.00s
### Start Time 2021/07/29-16-05-44  GB.py	index file: index.out
Training data path:   /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/trainSet.txt	GridSearch Beta: 2
Validation data path: /Users/jak/work/gxdhtclassifier/Train/baseline/data/july15/Stemmed/valSet.txt
Test data path:       None
Random Seeds:	randForClassifier=115   randForSplit=409   
### Metrics: Training Set
              precision    recall  f1-score   support

   Train Yes       0.85      0.81      0.83      2263
    Train No       0.91      0.93      0.92      4726

    accuracy                           0.89      6989
   macro avg       0.88      0.87      0.88      6989
weighted avg       0.89      0.89      0.89      6989

Train (Yes) F2: 0.8209    P: 0.8538    R: 0.8131    NPV: 0.9125

['Yes', 'No']
[[1840  423]
 [ 315 4411]]

### Metrics: Validation Set
              precision    recall  f1-score   support

   Valid Yes       0.74      0.72      0.73       528
    Valid No       0.90      0.91      0.90      1477

    accuracy                           0.86      2005
   macro avg       0.82      0.81      0.81      2005
weighted avg       0.86      0.86      0.86      2005

Valid (Yes) F2: 0.7197    P: 0.7354    R: 0.7159    NPV: 0.8994

['Yes', 'No']
[[ 378  150]
 [ 136 1341]]

### Note: baseline GB, feature transforms + stemming

### Best Pipeline Parameters:
classifier__learning_rate: 0.1
classifier__min_samples_split: 2
classifier__n_estimators: 200
vectorizer__max_df: 0.75
vectorizer__min_df: 0.02
vectorizer__ngram_range: (1, 2)

vectorizer:
CountVectorizer(binary=True, max_df=0.75, min_df=0.02, ngram_range=(1, 2),
                stop_words='english', token_pattern='\\b([a-z_]\\w+)\\b')
params: {'analyzer': 'word', 'binary': True, 'decode_error': 'strict', 'dtype': <class 'numpy.int64'>, 'encoding': 'utf-8', 'input': 'content', 'lowercase': True, 'max_df': 0.75, 'max_features': None, 'min_df': 0.02, 'ngram_range': (1, 2), 'preprocessor': None, 'stop_words': 'english', 'strip_accents': None, 'token_pattern': '\\b([a-z_]\\w+)\\b', 'tokenizer': None, 'vocabulary': None}

classifier:
GradientBoostingClassifier(n_estimators=200, random_state=115, verbose=1)
params: {'ccp_alpha': 0.0, 'criterion': 'friedman_mse', 'init': None, 'learning_rate': 0.1, 'loss': 'deviance', 'max_depth': 3, 'max_features': None, 'max_leaf_nodes': None, 'min_impurity_decrease': 0.0, 'min_impurity_split': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'n_estimators': 200, 'n_iter_no_change': None, 'presort': 'deprecated', 'random_state': 115, 'subsample': 1.0, 'tol': 0.0001, 'validation_fraction': 0.1, 'verbose': 1, 'warm_start': False}


### Grid Search Parameter Options Tried:
classifier__learning_rate:[0.1]
classifier__min_samples_split:[2, 5, 10, 20]
classifier__n_estimators:[200]
vectorizer__max_df:[0.75]
vectorizer__min_df:[0.02]
vectorizer__ngram_range:[(1, 2)]

### Grid Search Scores:
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 2, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.719726
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 5, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.717003
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 10, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.717822
{'classifier__learning_rate': 0.1, 'classifier__min_samples_split': 20, 'classifier__n_estimators': 200, 'vectorizer__max_df': 0.75, 'vectorizer__min_df': 0.02, 'vectorizer__ngram_range': (1, 2)}
mean_test_score:  0.712652

### Grid Search Best Score: 0.719726

### Feature weights: highest 20
+0.1909	cell
+0.0608	induc
+0.0604	treat
+0.0381	treatment
+0.0358	embryonic_day
+0.0334	tumor_typ
+0.0297	transgen
+0.0251	knock_out
+0.0209	sort
+0.0183	cultur
+0.0181	mutant
+0.0173	infect
+0.0153	knock_out mice_
+0.0133	tissu
+0.0120	wild_typ
+0.0117	inject
+0.0110	mef
+0.0100	stem
+0.0099	fac
+0.0098	litterm

### Feature weights: lowest 20
+0.0000	uniqu
+0.0000	unknown
+0.0000	untreat
+0.0000	upregul
+0.0000	use affymetrix
+0.0000	use illumina
+0.0000	use mice_
+0.0000	use microarray
+0.0000	use rna
+0.0000	util
+0.0000	various
+0.0000	vitro
+0.0000	week age
+0.0000	week old
+0.0000	weight
+0.0000	wherea
+0.0000	wide
+0.0000	wild_typ wild_typ
+0.0000	wnt
+0.0000	work

### Vectorizer:   Number of Features: 798
First 10 features: ['abil', 'ablat', 'abnorm', 'absenc', 'abund', 'accompani', 'accord', 'accumul', 'acid', 'act']

Middle 10 features: ['label', 'lack', 'larg', 'laser', 'late', 'later', 'lead', 'left', 'level', 'librari']

Last 10 features: ['wherea', 'wide', 'wild_typ', 'wild_typ control', 'wild_typ litterm', 'wild_typ mice_', 'wild_typ wild_typ', 'wnt', 'work', 'young']

### False positives for Validation set: 136
GSE528
GSE2515
GSE8524
GSE4678
GSE4671

### False negatives for Validation set: 150
GSE4818
GSE3554
GSE849
GSE3962
GSE3384

### Sample set sizes
                    :      Samples     Positive     Negative   % Positive
Training Set        :         6989         2263         4726          32%
Validation Set      :         2005          528         1477          26%
ValidationSplit: 0.20
### End Time 2021/07/29-16-06-03. Total     19.09 seconds

      Iter       Train Loss   Remaining Time 
         1           1.2167            5.89s
         2           1.1812            5.59s
         3           1.1526            5.27s
         4           1.1281            5.00s
         5           1.1073            4.73s
         6           1.0894            4.54s
         7           1.0730            4.39s
         8           1.0585            4.28s
         9           1.0439            4.18s
        10           1.0315            4.09s
        20           0.9367            3.55s
        30           0.8768            3.16s
        40           0.8329            2.88s
        50           0.7980            2.61s
        60           0.7703            2.40s
        70           0.7448            2.19s
        80           0.7225            2.00s
        90           0.7030            1.81s
       100           0.6847            1.64s
       200           0.5594            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            6.10s
         2           1.1812            5.47s
         3           1.1526            5.08s
         4           1.1281            4.74s
         5           1.1073            4.54s
         6           1.0894            4.40s
         7           1.0730            4.34s
         8           1.0585            4.25s
         9           1.0439            4.16s
        10           1.0315            4.08s
        20           0.9367            3.58s
        30           0.8768            3.19s
        40           0.8329            2.90s
        50           0.7980            2.63s
        60           0.7703            2.41s
        70           0.7449            2.21s
        80           0.7226            2.01s
        90           0.7032            1.83s
       100           0.6843            1.65s
       200           0.5608            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.68s
         2           1.1812            5.24s
         3           1.1526            4.85s
         4           1.1281            4.57s
         5           1.1073            4.41s
         6           1.0894            4.28s
         7           1.0730            4.19s
         8           1.0585            4.12s
         9           1.0439            4.04s
        10           1.0315            3.98s
        20           0.9367            3.54s
        30           0.8769            3.19s
        40           0.8331            2.92s
        50           0.7981            2.65s
        60           0.7695            2.44s
        70           0.7448            2.23s
        80           0.7225            2.03s
        90           0.7030            1.85s
       100           0.6859            1.66s
       200           0.5602            0.00s
      Iter       Train Loss   Remaining Time 
         1           1.2167            5.17s
         2           1.1812            4.54s
         3           1.1526            4.28s
         4           1.1281            4.15s
         5           1.1073            4.06s
         6           1.0894            4.00s
         7           1.0730            3.93s
         8           1.0585            3.90s
         9           1.0439            3.85s
        10           1.0315            3.82s
        20           0.9367            3.47s
        30           0.8769            3.11s
        40           0.8333            2.85s
        50           0.7984            2.59s
        60           0.7701            2.38s
        70           0.7451            2.18s
        80           0.7231            1.99s
        90           0.7034            1.81s
       100           0.6872            1.63s
       200           0.5630            0.00s
